<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Smart Door Lock System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="logo">üîê Smart Door Lock</h1>
            <ul class="nav-menu">
                <li><a class="nav-link active" data-page="home">Home</a></li>
                <li><a class="nav-link" data-page="enroll">Enroll</a></li>
                <li><a class="nav-link" data-page="logs">Logs</a></li>
            </ul>
            <!-- auth UI (keeps the same visual layout) -->
            <div id="authControls" style="display:flex; gap:0.5rem; align-items:center;">
                <button id="signInBtn" class="btn btn-secondary" style="padding:0.5rem 1rem; font-size:0.9rem;">Sign in with Google</button>
                <button id="signOutBtn" class="btn btn-secondary" style="padding:0.5rem 1rem; font-size:0.9rem; display:none;">Sign out</button>
            </div>
        </div>
    </nav>

    <div id="fingerprintModal" class="fingerprint-modal">
        <div class="fingerprint-content">
            <div class="fingerprint-icon">üëÜ</div>
            <div class="fingerprint-text">Place your finger on the scanner</div>
            <button class="fingerprint-cancel" id="cancelFingerprintBtn">Cancel</button>
        </div>
    </div>

    <div class="container">
        <div id="home" class="page active">
            <div class="home-content">
                <div class="lock-status-container">
                    <div id="lockIcon" class="lock-icon locked">
                        <span>üîí</span>
                    </div>
                    <p id="lockStatus" class="lock-status-text">LOCKED</p>
                </div>

                <div class="button-group">
                    <button id="unlockBtn" class="btn btn-unlock">
                        <span style="font-size: 1.5rem;">üîì</span>
                        <span>UNLOCK DOOR</span>
                    </button>
                </div>

                <div id="connectionStatus" class="connection-status">
                    <span class="status-dot disconnected"></span>
                    <span id="connectionText">Click here to connect</span>
                </div>

                <div id="notification" class="notification"></div>
            </div>
        </div>

        <div id="enroll" class="page">
            <div class="enroll-content">
                <h2>Manage Users</h2>

                <div class="enroll-section">
                    <h3>Add New User</h3>
                    <div class="form-group">
                        <label for="userName">User Name:</label>
                        <input type="text" id="userName" placeholder="Enter user name" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="userPin">4-Digit PIN:</label>
                        <input type="password" id="userPin" placeholder="Enter 4-digit PIN" class="form-input" maxlength="4" pattern="[0-9]{4}">
                    </div>
                    <button id="enrollBtn" class="btn btn-primary">
                        <span>üë§</span>
                        <span>Add User</span>
                    </button>
                    <p id="enrollStatus" class="status-message"></p>
                </div>

                <div class="enroll-section">
                    <h3>Registered Users</h3>
                    <div id="usersList" class="users-list">
                        <p class="empty-message">No users registered yet</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="logs" class="page">
            <div class="logs-content">
                <h2>Access History</h2>
                <button id="clearLogsBtn" class="btn btn-secondary">Clear History</button>
                <div id="logsList" class="logs-list">
                    <p class="empty-message">No access logs yet</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase + libraries -->
    <!-- NOTE: replace with the latest Firebase SDK versions as you upgrade -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

    <script src="app.js"></script>
</body>
</html>
